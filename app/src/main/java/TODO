**TODO**

Attempt to do type checking fully in the parser

Refactor CFG stuff?
    Remove switch spam & use more polymorphism