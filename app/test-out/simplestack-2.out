data:
global array vtblListNode: { getNextListNode, getValListNode, 0, 0 }
global array fieldsListNode: { 2, 3, 0 }
global array vtblStack: { 0, 0, pushStack, popStack }
global array fieldsStack: { 0, 0, 2 }
code:

getNextListNode(%this):
	%0 = %this + 8
	%1 = load(%0)
	%2 = getelt(%1, 1)
	if %2 then getNextListNode1 else NoSuchField0
NoSuchField0:
	fail NoSuchField
getNextListNode1:
	%3 = getelt(%this, %2)
	ret %3
getValListNode(%this):
	%0 = %this + 8
	%1 = load(%0)
	%2 = getelt(%1, 0)
	if %2 then getValListNode1 else NoSuchField1
NoSuchField1:
	fail NoSuchField
getValListNode1:
	%3 = getelt(%this, %2)
	ret %3

pushStack(%this, %v):
	%0 = alloc(4)
	store(%0, @vtblListNode)
	%1 = %0 + 8
	store(%1, @fieldsListNode)
	%tmp0 = %0
	%2 = %tmp0 & 1
	if %2 then NotAPointer0 else pushStack1
NotAPointer0:
	fail NotAPointer
pushStack1:
	%3 = %tmp0 + 8
	%4 = load(%3)
	%5 = getelt(%4, 0)
	if %5 then pushStack2 else NoSuchField2
NoSuchField2:
	fail NoSuchField
pushStack2:
	%tmp1 = phi(pushStack, %tmp0, pushStack1, %tmp0)
	%v0 = phi(pushStack, %v, pushStack1, %v)
	setelt(%tmp1, %5, %v0)
	%6 = %this + 8
	%7 = load(%6)
	%8 = getelt(%7, 2)
	if %8 then pushStack3 else NoSuchField3
NoSuchField3:
	fail NoSuchField
pushStack3:
	%9 = getelt(%this, %8)
	%10 = %tmp1 & 1
	if %10 then NotAPointer1 else pushStack4
NotAPointer1:
	fail NotAPointer
pushStack4:
	%11 = %tmp1 + 8
	%12 = load(%11)
	%13 = getelt(%12, 1)
	if %13 then pushStack5 else NoSuchField4
NoSuchField4:
	fail NoSuchField
pushStack5:
	%v1 = phi(pushStack3, %v0, pushStack4, %v0)
	%tmp2 = phi(pushStack3, %tmp1, pushStack4, %tmp1)
	setelt(%tmp2, %13, %9)
	%14 = %this + 8
	%15 = load(%14)
	%16 = getelt(%15, 2)
	if %16 then pushStack6 else NoSuchField5
NoSuchField5:
	fail NoSuchField
pushStack6:
	setelt(%this, %16, %tmp2)
	ret 0
popStack(%this):
	%0 = %this + 8
	%1 = load(%0)
	%2 = getelt(%1, 2)
	if %2 then popStack1 else NoSuchField6
NoSuchField6:
	fail NoSuchField
popStack1:
	%3 = getelt(%this, %2)
	%4 = %3 == 0
	if %4 then popStack2 else popStack3
popStack2:
	ret 0
popStack3:
	%5 = %this + 8
	%6 = load(%5)
	%7 = getelt(%6, 2)
	if %7 then popStack4 else NoSuchField7
NoSuchField7:
	fail NoSuchField
popStack4:
	%8 = getelt(%this, %7)
	%9 = %8 & 1
	if %9 then NotAPointer2 else popStack5
NotAPointer2:
	fail NotAPointer
popStack5:
	%10 = load(%8)
	%11 = getelt(%10, 1)
	if %11 then popStack6 else NoSuchMethod0
NoSuchMethod0:
	fail NoSuchMethod
popStack6:
	%tmp0 = phi(popStack4, null, popStack5, null)
	%12 = call(%11, %8)
	%tmp1 = %12
	%13 = %this + 8
	%14 = load(%13)
	%15 = getelt(%14, 2)
	if %15 then popStack7 else NoSuchField8
NoSuchField8:
	fail NoSuchField
popStack7:
	%16 = getelt(%this, %15)
	%17 = %16 & 1
	if %17 then NotAPointer3 else popStack8
NotAPointer3:
	fail NotAPointer
popStack8:
	%18 = load(%16)
	%19 = getelt(%18, 0)
	if %19 then popStack9 else NoSuchMethod1
NoSuchMethod1:
	fail NoSuchMethod
popStack9:
	%tmp2 = phi(popStack7, %tmp1, popStack8, %tmp1)
	%20 = call(%19, %16)
	%21 = %this + 8
	%22 = load(%21)
	%23 = getelt(%22, 2)
	if %23 then popStack10 else NoSuchField9
NoSuchField9:
	fail NoSuchField
popStack10:
	setelt(%this, %23, %20)
	ret %tmp2

main:
	%0 = alloc(3)
	store(%0, @vtblStack)
	%1 = %0 + 8
	store(%1, @fieldsStack)
	%stk0 = %0
	%2 = %stk0 & 1
	if %2 then NotAPointer4 else main1
NotAPointer4:
	fail NotAPointer
main1:
	%3 = %stk0 + 8
	%4 = load(%3)
	%5 = getelt(%4, 2)
	if %5 then main2 else NoSuchField10
NoSuchField10:
	fail NoSuchField
main2:
	%stk1 = phi(main, %stk0, main1, %stk0)
	%cnt0 = phi(main, null, main1, null)
	%tmp0 = phi(main, null, main1, null)
	setelt(%stk1, %5, 0)
	%6 = 10 << 1
	%cnt1 = %6 + 1
	jump main3
main3:
	%cnt4 = phi(main2, %cnt1, main9, %cnt3)
	%stk3 = phi(main2, %stk1, main9, %stk2)
	%tmp2 = phi(main2, %tmp0, main9, %tmp1)
	%7 = %cnt4 & 1
	if %7 then main4 else NotANumber0
NotANumber0:
	fail NotANumber
main4:
	%8 = %cnt4 - 1
	%9 = %8 >> 1
	%10 = %9 > 0
	if %10 then main5 else main10
main5:
	%tmp3 = phi(main2, %tmp2, main4, %tmp2)
	%stk4 = phi(main2, %stk3, main4, %stk3)
	%cnt5 = phi(main2, %cnt4, main4, %cnt4)
	%11 = %stk4 & 1
	if %11 then NotAPointer5 else main6
NotAPointer5:
	fail NotAPointer
main6:
	%12 = load(%stk3)
	%13 = getelt(%12, 2)
	if %13 then main7 else NoSuchMethod2
NoSuchMethod2:
	fail NoSuchMethod
main7:
	%tmp2 = phi(main5, null, main6, null)
	%stk3 = phi(main5, %stk, main6, %stk)
	%cnt4 = phi(main5, %cnt, main6, %cnt)
	%cnt2 = phi(main5, %cnt, main6, %cnt)
	%tmp1 = phi(main5, null, main6, null)
	%stk2 = phi(main5, %stk, main6, %stk)
	%14 = call(%13, %stk2, %cnt2)
	%15 = %14
	%15 = %cnt2 & 1
	if %15 then main8 else NotANumber1
NotANumber1:
	fail NotANumber
main8:
	%16 = %cnt2 - 1
	%17 = %16 >> 1
	%18 = %17 - 1
	%19 = %18 << 1
	%cnt3 = %19 + 1
	%20 = %cnt3 & 1
	if %20 then main9 else NotANumber2
NotANumber2:
	fail NotANumber
main9:
	%21 = %cnt3 - 1
	%22 = %21 >> 1
	print(%22)
	jump main3
main10:
	%cnt6 = phi(main2, %cnt4, main4, %cnt4)
	%stk5 = phi(main2, %stk3, main4, %stk3)
	%tmp4 = phi(main2, %tmp2, main4, %tmp2)
	jump main11
main11:
	%cnt9 = phi(main10, %cnt6, main17, %cnt8)
	%stk7 = phi(main10, %stk5, main17, %stk6)
	%tmp6 = phi(main10, %tmp4, main17, %tmp5)
	%23 = %cnt9 & 1
	if %23 then main12 else NotANumber3
NotANumber3:
	fail NotANumber
main12:
	%24 = %cnt9 - 1
	%25 = %24 >> 1
	%26 = %25 < 10
	if %26 then main13 else main18
main13:
	%tmp7 = phi(main10, %tmp6, main12, %tmp6)
	%stk8 = phi(main10, %stk7, main12, %stk7)
	%cnt10 = phi(main10, %cnt9, main12, %cnt9)
	%27 = %stk8 & 1
	if %27 then NotAPointer6 else main14
NotAPointer6:
	fail NotAPointer
main14:
	%28 = load(%stk7)
	%29 = getelt(%28, 3)
	if %29 then main15 else NoSuchMethod3
NoSuchMethod3:
	fail NoSuchMethod
main15:
	%tmp6 = phi(main13, null, main14, null)
	%stk7 = phi(main13, %stk, main14, %stk)
	%cnt9 = phi(main13, %cnt, main14, %cnt)
	%tmp5 = phi(main13, null, main14, null)
	%stk6 = phi(main13, %stk, main14, %stk)
	%cnt7 = phi(main13, %cnt, main14, %cnt)
	%30 = call(%29, %stk6)
	%31 = %30 & 1
	if %31 then main16 else NotANumber4
NotANumber4:
	fail NotANumber
main16:
	%32 = %30 - 1
	%33 = %32 >> 1
	print(%33)
	%34 = %cnt7 & 1
	if %34 then main17 else NotANumber5
NotANumber5:
	fail NotANumber
main17:
	%35 = %cnt7 - 1
	%36 = %35 >> 1
	%37 = %36 + 1
	%38 = %37 << 1
	%cnt8 = %38 + 1
	jump main11
main18:
	%cnt11 = phi(main10, %cnt9, main12, %cnt9)
	%stk9 = phi(main10, %stk7, main12, %stk7)
	%tmp8 = phi(main10, %tmp6, main12, %tmp6)
	ret 0